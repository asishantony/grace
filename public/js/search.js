(()=>{var e=$(".search-list li"),s=$(".search-list"),a=$(".content-overlay"),t=$(".search-sm"),r=$(".search-input-sm .search-box-sm"),i=$(".search-list-sm");$((function(){"use strict";if($(".header-search-input").focus((function(){$(this).parent("div").addClass("header-search-wrapper-focus")})).blur((function(){$(this).parent("div").removeClass("header-search-wrapper-focus")})),$(".search-button").click((function(e){t.is(":hidden")?(t.show(),r.focus()):(t.hide(),r.val(""))})),$(".search-input-sm").on("click",(function(){r.focus()})),$(".search-sm-close").click((function(e){t.hide(),r.val("")})),$(".search-list").length>0)var l=new PerfectScrollbar(".search-list",{wheelSpeed:2,wheelPropagation:!1,minScrollbarLength:20});if(i.length>0)var n=new PerfectScrollbar(".search-list-sm",{wheelSpeed:2,wheelPropagation:!1,minScrollbarLength:20});var c=$(".header-search-wrapper .header-search-input,.search-input-sm .search-box-sm").data("search");$(".search-sm-close").on("click",(function(){r.val(""),r.blur(),e.remove(),s.addClass("display-none"),a.hasClass("show")&&a.removeClass("show")})),a.on("click",(function(){e.remove(),a.removeClass("show"),t.hide(),r.val(""),s.addClass("display-none"),$(".search-input-sm .search-box-sm, .header-search-input").val("")})),$(".header-search-wrapper .header-search-input, .search-input-sm .search-box-sm").on("keyup",(function(e){a.addClass("show"),s.removeClass("display-none");var t=$(this);if(38!==e.keyCode&&40!==e.keyCode&&13!==e.keyCode){27==e.keyCode&&(a.removeClass("show"),t.val(""),t.blur());var r=$(this).val().toLowerCase();if($("ul.search-list li").remove(),""!=r){var l="",n="",o="",h=0;$.getJSON("/json/"+c+".json",(function(e){for(var s=0;s<e.listItems.length;s++)(0==e.listItems[s].name.toLowerCase().indexOf(r)&&h<4||0!=e.listItems[s].name.toLowerCase().indexOf(r)&&e.listItems[s].name.toLowerCase().indexOf(r)>-1&&h<4)&&(l+='<li class="auto-suggestion '+(0===h?"current_item":"")+'"><a class="collection-item" href='+e.listItems[s].url+'><div class="display-flex"><div class="display-flex align-item-center flex-grow-1"><span class="material-icons" data-icon="'+e.listItems[s].icon+'">'+e.listItems[s].icon+'</span><div class="member-info display-flex flex-column"><span class="black-text">'+e.listItems[s].name+'</span><small class="grey-text">'+e.listItems[s].category+"</small></div></div></div></a></li>",h++);""==l&&""==n&&(n=$("#search-not-found").html());var a=$("#page-search-title").html(),t=$("#default-search-main").html();o=a.concat(l,n,t),$("ul.search-list").html(o)}))}else a.hasClass("show")&&(a.removeClass("show"),s.addClass("display-none"))}$(".header-search-wrapper .current_item").length&&(s.scrollTop(0),s.scrollTop($(".search-list .current_item:first").offset().top-s.height())),$(".search-input-sm .current_item").length&&(i.scrollTop(0),i.scrollTop($(".search-list-sm .current_item:first").offset().top-i.height()))})),$("#navbarForm").on("submit",(function(e){e.preventDefault()})),$(window).on("keydown",(function(e){var s,a,t=$(".search-list li.current_item");if(40===e.keyCode?(s=t.next(),t.removeClass("current_item"),t=s.addClass("current_item")):38===e.keyCode&&(a=t.prev(),t.removeClass("current_item"),t=a.addClass("current_item")),13===e.keyCode&&$(".search-list li.current_item").length>0){var r=$("li.current_item a");window.location=$("li.current_item a").attr("href"),$(r).trigger("click")}})),s.mouseenter((function(){$(".search-list").length>0&&l.update(),i.length>0&&n.update()})),$(document).on("mouseenter",".search-list li",(function(e){$(this).siblings().removeClass("current_item"),$(this).addClass("current_item")})),$(document).on("click",".search-list li",(function(e){e.stopPropagation()}))})),$(window).on("resize",(function(){$(window).width()<992&&($(".header-search-input").val(""),$(".header-search-input").closest(".search-list li").remove()),$(window).width()>993&&(t.hide(),r.val(""),$(".search-input-sm .search-box-sm").val(""))}))})();