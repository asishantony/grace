$(document).ready((function(){"use strict";$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(".modal").modal();$(".dropify").dropify();$("#facilities-table").DataTable({responsive:!1,ordering:!1,columnDefs:[{responsivePriority:1,targets:-1},{responsivePriority:2,targets:0}]})})),$("#facilities-form").on("submit",(function(e){e.preventDefault(),$.ajax({type:"POST",url:"/admin/facilities/save",data:new FormData(this),processData:!1,contentType:!1,success:function(e){var s=JSON.parse(e);s.success?swal({title:s.message,icon:"success"}).then((()=>{location.reload()})):swal({title:s.message,icon:"error"})},error:function(e){JSON.parse(e);swal({title:"Error",icon:"error"})}})})),$("span.delete").on("click",(function(e){e.preventDefault();var s=$(this).data("id");$.ajax({type:"POST",url:"/admin/facilities/delete",data:{id:s},success:function(e){var s=JSON.parse(e);s.success?swal({title:s.message,icon:"success"}).then((()=>{location.reload()})):swal({title:s.message,icon:"error"})},error:function(e){JSON.parse(e)}})})),$(".status-change").on("click",(function(e){var s=$(this).data("id");$.ajax({type:"POST",url:"/admin/facilities/toggle-status",data:{id:s},success:function(e){var s=JSON.parse(e);s.success?swal({title:s.message,icon:"success"}).then((()=>{location.reload()})):swal({title:s.message,icon:"error"})},error:function(e){var s=JSON.parse(e);console.log(s)}})})),$(".view-facility").on("click",(function(e){var s=$(this).data("id");$.ajax({type:"GET",url:`/admin/facilities/${s}`,success:function(e){var s=JSON.parse(e);s.success?($("#show-modal").html(s.html),$("#show-modal").modal("open")):swal({title:s.message,icon:"error"})},error:function(e){JSON.parse(e)}})}));
