function editSubmit(){$("#edit-form").on("submit",(function(e){e.preventDefault();var a=$("#album_id").val(),s=$("#edit_name").val();$.ajax({type:"PATCH",url:`/admin/album/${a}`,data:{name:s},success:function(e){var a=JSON.parse(e);a.success?swal({title:a.message,icon:"success"}).then((()=>{location.reload()})):swal({title:a.message,icon:"error"})},error:function(e){var a=JSON.parse(e);console.log(a),swal({title:"Error",icon:"error"})}})}))}$(document).ready((function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(".modal").modal(),$(".datepicker").datepicker(),$(".dropify").dropify(),$("#album-table").DataTable({responsive:!1,ordering:!1,columnDefs:[{responsivePriority:1,targets:-1},{responsivePriority:2,targets:0}]})})),$("#album-form").on("submit",(function(e){e.preventDefault(),$.ajax({type:"POST",url:"/admin/album/save",data:new FormData(this),processData:!1,contentType:!1,success:function(e){var a=JSON.parse(e);a.success?swal({title:a.message,icon:"success"}).then((()=>{location.reload()})):swal({title:a.message,icon:"error"})},error:function(e){var a=JSON.parse(e);console.log(a),swal({title:"Error",icon:"error"})}})})),$("span.delete").on("click",(function(e){e.preventDefault();var a=$(this).data("id");swal({title:"Are you sure?",text:"Are you shure to delete this Album!",icon:"warning",buttons:!0,dangerMode:!0}).then((e=>{e&&$.ajax({type:"POST",url:"/admin/album/delete",data:{id:a},success:function(e){var a=JSON.parse(e);console.log(a),a.success?swal({title:a.message,icon:"success"}).then((()=>{location.reload()})):swal({title:a.message,icon:"error"})},error:function(e){JSON.parse(e)}})}))})),$(".status-change").on("click",(function(e){var a=$(this).data("id");$.ajax({type:"POST",url:"/admin/album/toggle-status",data:{id:a},success:function(e){var a=JSON.parse(e);console.log(a),a.success?swal({title:a.message,icon:"success"}).then((()=>{location.reload()})):swal({title:a.message,icon:"error"})},error:function(e){JSON.parse(e)}})})),$(".featured-change").on("click",(function(e){var a=$(this).data("id");$.ajax({type:"POST",url:"/admin/album/toggle-featured",data:{id:a},success:function(e){var a=JSON.parse(e);console.log(a),a.success?swal({title:a.message,icon:"success"}).then((()=>{location.reload()})):swal({title:a.message,icon:"error"})},error:function(e){JSON.parse(e)}})})),$(".view-album").on("click",(function(e){var a=$(this).data("id");$.ajax({type:"GET",url:`/admin/album/${a}`,success:function(e){var a=JSON.parse(e);console.log(a),a.success?($("#show-modal").html(a.html),$("#show-modal").modal("open")):swal({title:a.message,icon:"error"})},error:function(e){JSON.parse(e)}})})),$(".edit-album").on("click",(function(e){var a=$(this).data("id");$.ajax({type:"GET",url:`/admin/album/${a}/edit`,success:function(e){var a=JSON.parse(e);console.log(a),a.success?($("#edit-modal").html(a.html),editSubmit(),$("#edit-modal").modal("open")):swal({title:a.message,icon:"error"})},error:function(e){JSON.parse(e)}})}));
