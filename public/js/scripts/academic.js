$(document).ready((function(){"use strict";$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(".modal").modal(),$("#academic-table").DataTable({responsive:!1,ordering:!1,columnDefs:[{responsivePriority:1,targets:-1},{responsivePriority:2,targets:0}]});var e={toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],[{header:"1"},{header:"2"},"blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["direction",{align:[]}],["link","video"],["clean"]]},a=new Quill("#description-quill .editor",{bounds:"#description-quill .editor",modules:e,theme:"snow"}),t=new Quill("#organisation-quill .editor",{bounds:"#organisation-quill .editor",modules:e,theme:"snow"}),s=new Quill("#objectives-quill .editor",{bounds:"#objectives-quill .editor",modules:e,theme:"snow"}),i=new Quill("#time-quill .editor",{bounds:"#time-quill .editor",modules:e,theme:"snow"});$("#edit-form").on("submit",(function(e){e.preventDefault();var n=new FormData,o=$("#name").val(),r=$("#academic_id").val(),c=a.root.innerHTML,l=t.root.innerHTML,d=s.root.innerHTML,u=i.root.innerHTML;n.append("description",c),n.append("organisation",l),n.append("objectives",d),n.append("time",u),n.append("name",o),n.append("_method","PUT"),$.ajax({type:"POST",url:`/admin/academics/${r}`,data:n,processData:!1,contentType:!1,success:function(e){var a=JSON.parse(e);a.success?swal({title:a.message,icon:"success"}).then((()=>{location.replace("/admin/academics")})):swal({title:a.message,icon:"error"})},error:function(e){JSON.parse(e);swal({title:"Error",icon:"error"})}})})),$("#academic-form").on("submit",(function(e){e.preventDefault();var n=new FormData,o=$("#name").val(),r=($("#academic_id").val(),a.root.innerHTML),c=t.root.innerHTML,l=s.root.innerHTML,d=i.root.innerHTML;n.append("description",r),n.append("organisation",c),n.append("objectives",l),n.append("time",d),n.append("name",o),$.ajax({type:"POST",url:"/admin/academics/save",data:n,processData:!1,contentType:!1,success:function(e){var a=JSON.parse(e);a.success?swal({title:a.message,icon:"success"}).then((()=>{location.reload()})):swal({title:a.message,icon:"error"})},error:function(e){JSON.parse(e);swal({title:"Error",icon:"error"})}})}))})),$("span.delete").on("click",(function(e){e.preventDefault();var a=$(this).data("id");$.ajax({type:"POST",url:"/admin/academics/delete",data:{id:a},success:function(e){var a=JSON.parse(e);a.success?swal({title:a.message,icon:"success"}).then((()=>{location.reload()})):swal({title:a.message,icon:"error"})},error:function(e){JSON.parse(e)}})})),$(".status-change").on("click",(function(e){var a=$(this).data("id");$.ajax({type:"POST",url:"/admin/academics/toggle-status",data:{id:a},success:function(e){var a=JSON.parse(e);a.success?swal({title:a.message,icon:"success"}).then((()=>{location.reload()})):swal({title:a.message,icon:"error"})},error:function(e){JSON.parse(e)}})})),$(".featured-change").on("click",(function(e){var a=$(this).data("id");$.ajax({type:"POST",url:"/admin/academics/toggle-featured",data:{id:a},success:function(e){var a=JSON.parse(e);a.success?swal({title:a.message,icon:"success"}).then((()=>{location.reload()})):swal({title:a.message,icon:"error"})},error:function(e){JSON.parse(e)}})})),$(".view-academic").on("click",(function(e){var a=$(this).data("id");$.ajax({type:"GET",url:`/admin/academics/${a}`,success:function(e){var a=JSON.parse(e);a.success?($("#show-modal").html(a.html),$("#show-modal").modal("open")):swal({title:a.message,icon:"error"})},error:function(e){JSON.parse(e)}})}));
